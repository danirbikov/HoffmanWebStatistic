@model ResultsJsonHeader


<div class="container-fluid px-4">
    @if (Model.ResultsJsonTests.Any())
    {
        <h1 class="mt-4 mb-4">@Model.ResultsJsonTests.FirstOrDefault().TName</h1>
    }
    

    <div class="card mb-4">
        <div class="card-body">
            <div class="table-responsive">
                @*<table class="table table-striped table-sm">*@
                <table id="myTable" class="table table-centered table-nowrap table-hover mb-0">

                    <thead>
                        <tr>
                            <th>Header</th>
                            <th>Header value</th>
                        </tr>
                    </thead>
                        <tr>
                            <td>VIN</td>
                            <td>@Model.VIN</td>
                        <tr/>
                        <tr>
                            <td>Order number</td>
                            <td>@Model.Ordernum</td>
                        </tr>
                        <tr>
                            <td>Stand name</td>
                            <td>@Model.Stand.StandName</td>
                        </tr>
                        <tr>
                            <td>Header date</td>
                            <td>@Model.Created</td>
                        </tr>
                        <tr>
                            <td>Operator</td>
                            <td>@Model.Operator.OLogin</td>
                        </tr>
                        <thead>       
                            <tr>           
                                <th>Test</th>
                                <th>Test value</th>
                            </tr>  
                        </thead>
                        <tbody>
                            @foreach (var testsObj in Model.ResultsJsonTests)
                            {
                                int countTests = 0;
                                <tr>
                                    <td>Name Test</td>
                                    <td>@testsObj.TName</td>
                                </tr>
                                <tr>
                                    <td>Test SpecName</td>
                                    <td>@testsObj.TSpecname</td>
                                </tr>
                                <tr>
                                    <td>Test result</td>
                                    @if (@testsObj.Res.Val.ToUpper() == "OK")
                                    {
                                        <td> 
                                            <font class="badge bg-success badge-pill">@testsObj.Res.Val</font>
                                        </td>
                                    }
                                    else
                                    {
                                        <td>
                                            <font class="badge bg-danger badge-pill">@testsObj.Res.Val</font>
                                        </td>
                                    }
                                    
                                </tr>
                                <tr>
                                    <td>Date</td>
                                    <td>@testsObj.Created</td>  
                                </tr>
                                <thead>
                                    <tr>
                                        <th>Value</th>
                                        <th>Value result</th>
                                    </tr>
                                </thead>
                                foreach (var testsValues in testsObj.ResultsJsonValues)
                                {
                            
                                    countTests++;
                                    <tr>
                                        <th>Value @countTests</th>
                                        <th></th>
                                    </tr>
                                    <tr>
                                        <td>@testsValues.VName</td>
                                        <td>@testsValues.VValue</td>
                                    </tr>
                                }
            
                        }
                        </tbody>
                </table>
            </div>
        </div>
    </div>
</div>